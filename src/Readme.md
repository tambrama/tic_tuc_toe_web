<!-- omit in toc -->
<h1>üéÆ Tic-Tac-Toe Game Server</h1>
  
–ë—ç–∫–µ–Ω–¥ –¥–ª—è –∏–≥—Ä—ã **–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–∞, –±–æ—Ç–∞ (Minimax) –∏ JWT-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π. –ù–∞–ø–∏—Å–∞–Ω –Ω–∞ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ Uber FX.

---

<!-- omit in toc -->
<h2>üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h2>

- [üåü –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [üéÆ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#-–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
- [‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#Ô∏è-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–∑–∞–ø—É—Å–∫)
  - [üõ†Ô∏è C Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)](#Ô∏è-c-docker-compose-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
  - [üîß –ë–µ–∑ Docker (–ª–æ–∫–∞–ª—å–Ω–æ)](#-–±–µ–∑-docker-–ª–æ–∫–∞–ª—å–Ω–æ)
- [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#Ô∏è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [üß© –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
  - [üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#-–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
    - [üß† **–î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π**¬†(`internal/domain/`)](#-–¥–æ–º–µ–Ω–Ω—ã–π-—Å–ª–æ–πinternaldomain)
    - [üß± **–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π**¬†(`internal/services/`)](#-—Å–µ—Ä–≤–∏—Å–Ω—ã–π-—Å–ª–æ–πinternalservices)
    - [üåê **HTTP —Å–ª–æ–π**¬†(`internal/web/`)](#-http-—Å–ª–æ–πinternalweb)
    - [üóÉÔ∏è **–°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö**¬†(`internal/storage/`)](#Ô∏è-—Å–ª–æ–π-–¥–∞–Ω–Ω—ã—Öinternalstorage)
- [üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã](#-api-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
  - [üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)](#-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-–±–µ–∑-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
    - [üîì¬†**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - **`POST /registration`**](#—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è---post-registration)
    - [üîë¬†**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤)** - **`POST /auth`**](#–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è-–ø–æ–ª—É—á–µ–Ω–∏–µ-—Ç–æ–∫–µ–Ω–æ–≤---post-auth)
    - [üîÑ¬†**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞** - **`POST /auth/refresh`**](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-access-—Ç–æ–∫–µ–Ω–∞---post-authrefresh)
  - [üïπÔ∏è –ò–≥—Ä–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)](#Ô∏è-–∏–≥—Ä–æ–≤—ã–µ-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã-—Ç—Ä–µ–±—É—é—Ç-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
    - [üÜï¬†**–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã** - **`POST /game/new`**](#—Å–æ–∑–¥–∞–Ω–∏–µ-–Ω–æ–≤–æ–π-–∏–≥—Ä—ã---post-gamenew)
    - [üìã¬†**–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä** - **`GET /game/list`**](#—Å–ø–∏—Å–æ–∫-–¥–æ—Å—Ç—É–ø–Ω—ã—Ö-–∏–≥—Ä---get-gamelist)
    - [ü§ù¬†**–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ** - **`POST /game/{game_uuid}/join`**](#–ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ-–∫-–∏–≥—Ä–µ---post-gamegame_uuidjoin)
    - [üé≤¬†**–°–¥–µ–ª–∞—Ç—å —Ö–æ–¥** - **`POST /game/{uuid}`**](#—Å–¥–µ–ª–∞—Ç—å-—Ö–æ–¥---post-gameuuid)
    - [üìä¬†**–°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã** - **`GET /game/{uuid}/status`**](#—Å—Ç–∞—Ç—É—Å-–∏–≥—Ä—ã---get-gameuuidstatus)
    - [üìú¬†**–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä** - **`GET /game/history`**](#–∏—Å—Ç–æ—Ä–∏—è-–∏–≥—Ä---get-gamehistory)
    - [üèÜ¬†**–õ–∏–¥–µ—Ä–±–æ—Ä–¥** - **`POST /game/leaders`**](#–ª–∏–¥–µ—Ä–±–æ—Ä–¥---post-gameleaders)
  - [üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏](#-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
    - [üë§¬†**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ** -  **`GET /auth/me`**](#–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è-–æ-—Ç–µ–∫—É—â–µ–º-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ----get-authme)
    - [üë§¬†**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ UUID** -  **`GET /user/{uuid}`**](#–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è-–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ-–ø–æ-uuid----get-useruuid)
- [üß† –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã](#-–ª–æ–≥–∏–∫–∞-–∏–≥—Ä—ã)
  - [–†–µ–∂–∏–º—ã –∏–≥—Ä—ã](#—Ä–µ–∂–∏–º—ã-–∏–≥—Ä—ã)
    - [1. ü§ñ¬†**–ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞**¬†(`with_bot: true`)](#1-–∏–≥—Ä–∞-–ø—Ä–æ—Ç–∏–≤-–±–æ—Ç–∞with_bot-true)
    - [2.¬†üë• **–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä**¬†(`with_bot: false`)](#2-–º—É–ª—å—Ç–∏–ø–ª–µ–µ—Äwith_bot-false)
  - [üìà –°—Ç–∞—Ç—É—Å—ã –∏–≥—Ä—ã](#-—Å—Ç–∞—Ç—É—Å—ã-–∏–≥—Ä—ã)
  - [üïµÔ∏è‚Äç‚ôÇÔ∏è –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏](#Ô∏èÔ∏è-–ø—Ä–∞–≤–∏–ª–∞-–≤–∞–ª–∏–¥–∞—Ü–∏–∏)
  - [ü§ñ –ê–ª–≥–æ—Ä–∏—Ç–º Minimax](#-–∞–ª–≥–æ—Ä–∏—Ç–º-minimax)
- [üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
  - [üîë –ú–µ—Ä—ã –∑–∞—â–∏—Ç—ã:](#-–º–µ—Ä—ã-–∑–∞—â–∏—Ç—ã)
  - [ü™™ –¢–æ–∫–µ–Ω—ã:](#-—Ç–æ–∫–µ–Ω—ã)
- [üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
  - [–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã:](#–ø–æ–ª–Ω—ã–π-—Ü–∏–∫–ª-–∏–≥—Ä—ã)
  - [–†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏:](#—Ä–∞–±–æ—Ç–∞-—Å-—Ç–æ–∫–µ–Ω–∞–º–∏)
- [üöÄ Makefile](#-makefile)

---
## üåü –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```
# –ó–∞–ø—É—Å–∫ —Å Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker-compose up --build

# –°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
# http://localhost:8081
```
---

## üéÆ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ—Ä–≤–µ—Ä–Ω—É—é —á–∞—Å—Ç—å –∏–≥—Ä—ã **–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏** (Tic-Tac-Toe), –≤ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:

‚úÖ¬†**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- JWT —Ç–æ–∫–µ–Ω—ã (access + refresh)
- –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

‚úÖ¬†**–ò–≥—Ä–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã**
- –ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞ —Å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º Minimax ü§ñ
- –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä (–∏–≥—Ä–∞ —Å –¥—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–æ–º)

‚úÖ¬†**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–∞–º–∏**
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–≥—Ä–µ
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∏–≥—Ä  
- –õ–∏–¥–µ—Ä–±–æ—Ä–¥

‚úÖ¬†**API —Ñ—É–Ω–∫—Ü–∏–∏**
- RESTful API —Å JSON
- CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ **Go** –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (`transport`, `services`, `repository`, `database`). –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Uber FX**, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö ‚Äî **PostgreSQL**.

---
## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Go 1.25+** 
- **Docker –∏ Docker Compose** (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö)
- **PostgreSQL 16+** (–µ—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–µ–∑ Docker)

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### üõ†Ô∏è C Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª¬†`.env`¬†–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
```env
# –ü–æ—Ä—Ç HTTP-—Å–µ—Ä–≤–µ—Ä–∞
SERVER_PORT=8081

# –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)
DATABASE_URL=postgres://postgres:password@localhost:5432/tictuc?sslmode=disable

# –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
JWT_SECRET=secret
```
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
```
docker-compose up --build
```
3. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ:**
    ‚Üí –°–µ—Ä–≤–µ—Ä:¬†[http://localhost:8081](http://localhost:8081/)
    ‚Üí –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 5432
    ‚Üí –ö–ª–∏–µ–Ω—Ç: –æ—Ç–∫—Ä–æ–π—Ç–µ `index.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ

üö¶ –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```
make -C src docker-down
# –ò–õ–ò
docker-compose down
```

üîÑ –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ (—Å–±—Ä–æ—Å –ë–î)
```
make -C src docker-rebuild
```

> ‚ö†Ô∏è –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã!

### üîß –ë–µ–∑ Docker (–ª–æ–∫–∞–ª—å–Ω–æ)
1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go:**
```
cd src
go mod download
```
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
```
CREATE DATABASE tictuc;
```
3. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª¬†`.env`:**
```
SERVER_PORT=8081
DATABASE_URL=postgres://postgres:password@localhost:5432/tictuc?sslmode=disable
JWT_SECRET=your_secret_key
```
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
```
# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ SQL –∏–∑ migrations/migrations.sql
```
5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:**
```
cd src
make run
# –∏–ª–∏
go run ./cmd/app
```
---
## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º¬†**Clean Architecture**¬†—Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

```
src/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ       ‚îî‚îÄ‚îÄ main.go                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.go                     # –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.go                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ø–æ—Ä—Ç—ã, –ë–î)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ di/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ di.go                      # Dependency Injection –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (Uber FX)
|   |
‚îÇ   ‚îú‚îÄ‚îÄ domain/                        # –î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π (–∏–≥—Ä–∞)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ  models/
|   ‚îÇ       ‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îÇ       |    ‚îî‚îÄ‚îÄ jwt.go            # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ 
|   ‚îÇ       ‚îú‚îÄ‚îÄ game/
‚îÇ   ‚îÇ       |    ‚îî‚îÄ‚îÄ game.go           # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–≥—Ä—ã 
|   ‚îÇ       ‚îî‚îÄ‚îÄ user/
‚îÇ   ‚îÇ            ‚îî‚îÄ‚îÄ user.go           # –î–æ–º–µ–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ dto/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/                  # –û–±—ä–µ–∫—Ç—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É domain <-> repository
‚îÇ   ‚îÇ   |   ‚îî‚îÄ‚îÄ dto.go                   
|   |   ‚îî‚îÄ‚îÄ web                        # –û–±—ä–µ–∫—Ç—ã –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É domain <-> web
|   |       ‚îú‚îÄ‚îÄ dto.go                 
|   |       ‚îî‚îÄ‚îÄ jwt.go
|   |
‚îÇ   ‚îú‚îÄ‚îÄ mappers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/                  # –ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É domain <-> repository
‚îÇ   ‚îÇ   |   ‚îú‚îÄ‚îÄ game_mappers.go 
|   |   |   ‚îî‚îÄ‚îÄ user_mappers.go                  
|   |   ‚îî‚îÄ‚îÄ web                        # –ú–∞–ø–ø–∏–Ω–≥ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É domain <-> web
|   |       ‚îú‚îÄ‚îÄ game_mappers.go                  
|   |       ‚îî‚îÄ‚îÄ user_mappers.go  
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ server/
‚îÇ   |   ‚îî‚îÄ‚îÄ server.go                  # HTTP —Å–µ—Ä–≤–µ—Ä, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/                       # –°–ª–æ–π —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_service/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_service.go         # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.go              # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ game_service/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ game_service.go         # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.go              # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏–≥—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jwt_service/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jwt_service.go          # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service.go              # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_service/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ user_service.go         # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ service.go              # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ storage/                       # –°–ª–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–¥
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ postgres/                  # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ postgres
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ game_repository.go                
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ jwt_repository.go       
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ user_repository.go   
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ postgres.go            # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–¥
|   |
‚îÇ   ‚îú‚îÄ‚îÄ utils/                         # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
|   |   ‚îî‚îÄ‚îÄ utils.go
|   |
‚îÇ   ‚îú‚îÄ‚îÄ web/                          # HTTP —Å–ª–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ handler/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth_handler.go        # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ game_handler.go        # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≥—Ä—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ middleware.go          # CORS, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
|   |
|   ‚îî‚îÄ‚îÄ migrations/                    # –ó–∞–ø—Ä–æ—Å—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ go.mod                             # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Go
‚îú‚îÄ‚îÄ go.sum                             # Checksums –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ Makefile                           # –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ index.html                         # –¢–µ—Å—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç
‚îî‚îÄ‚îÄ Readme.md                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```
---
## üß© –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
HTTP Request 
    ‚Üí Middleware (CORS, Auth) 
    ‚Üí Handler 
    ‚Üí Service 
    ‚Üí Repository 
    ‚Üí Database
          ‚Üì
HTTP Response ‚Üê Handler ‚Üê Service ‚Üê Repository

```
> üí° –≠—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**, **—Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** –∏ **–ª—ë–≥–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞** –±–ª–∞–≥–æ–¥–∞—Ä—è —á—ë—Ç–∫–æ–º—É —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.

#### üß† **–î–æ–º–µ–Ω–Ω—ã–π —Å–ª–æ–π**¬†(`internal/domain/`)
‚Üí üë§ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **`internal/domain/model/user/user.go`**
    - `User`: UUID, Login, Password (—Ö—ç—à), –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
    - `UserRepository`: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
- **`internal/domain/model/auth/auth.go`**
    - `TokenRepository`: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è refresh-—Ç–æ–∫–µ–Ω–æ–≤
    
‚Üí üé≤ –ò–≥—Ä–∞
- **`internal/domain/model/game/game.go`**
    - `GameStatus`: `Waiting`, `Playing`, `WonX`, `WonO`, `Draw`
    - `Char`: `CharX`, `CharO`
    - `GameField`: –ø–æ–ª–µ 3√ó3 (`0` = –ø—É—Å—Ç–æ, `1` = X, `2` = O)
    - `Game`: UUID, –ø–æ–ª–µ, —Å—Ç–∞—Ç—É—Å, –∏–≥—Ä–æ–∫–∏, —Ç–µ–∫—É—â–∏–π —Ö–æ–¥, —Å–∏–º–≤–æ–ª—ã, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
    - `UserLeaders`: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
    - `GameRepository`: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–≥—Ä–∞–º–∏

#### üß± **–°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π**¬†(`internal/services/`)
‚Üí `AuthService`¬†- –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è **access** –∏ **refresh** JWT-—Ç–æ–∫–µ–Ω–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ + —Ä–æ—Ç–∞—Ü–∏—è refresh-—Ç–æ–∫–µ–Ω–∞
- –•—Ä–∞–Ω–µ–Ω–∏–µ refresh-—Ç–æ–∫–µ–Ω–æ–≤ –≤ –ë–î

‚Üí `GameService`¬†- –∏–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞, Minimax –∞–ª–≥–æ—Ä–∏—Ç–º
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã: **–ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞** –∏–ª–∏ **–æ–∂–∏–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞**
- –ê–ª–≥–æ—Ä–∏—Ç–º **Minimax** –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤ –±–æ—Ç–∞ ü§ñ
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ö–æ–¥–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è (—Å—Ç—Ä–æ–∫–∏, —Å—Ç–æ–ª–±—Ü—ã, –¥–∏–∞–≥–æ–Ω–∞–ª–∏)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ö–æ–¥–æ–≤ –∏–≥—Ä–æ–∫–æ–≤ –∏ –±–æ—Ç–∞
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –¥–æ—Å—Ç—É–ø–Ω–æ–π –∏–≥—Ä–µ
- –õ–∏–¥–µ—Ä–±–æ—Ä–¥: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–±–µ–¥/–ø–æ—Ä–∞–∂–µ–Ω–∏–π

‚Üí `JwtProvider`¬†- —Ä–∞–±–æ—Ç–∞ —Å JWT —Ç–æ–∫–µ–Ω–∞–º–∏
- –ü–æ–¥–ø–∏—Å—å —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É **HS256**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø–∞—Ä—Å–∏–Ω–≥ —Ç–æ–∫–µ–Ω–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ **UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –∏–∑ —Ç–æ–∫–µ–Ω–∞

‚Üí `UserService`¬†- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π —á–µ—Ä–µ–∑ **bcrypt**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è –ø—Ä–∏ –≤—Ö–æ–¥–µ
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ ID
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç `validator`

#### üåê **HTTP —Å–ª–æ–π**¬†(`internal/web/`)
‚Üí `AuthAPI`¬†- –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`/auth/me`)
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ UUID (`/user/{uuid}`)

‚Üí `GameAPI`¬†- –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–≥—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã (—Å –±–æ—Ç–æ–º –∏–ª–∏ –±–µ–∑)
- –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ö–æ–¥–∞
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞, —Å–ø–∏—Å–∫–∞ –∏–≥—Ä, –∏—Å—Ç–æ—Ä–∏–∏ –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è **UUID** –∏–∑ URL

‚Üí `Middleware` - CORS, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **`MiddlewareAuth`** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ JWT –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `Authorization`
- **`EnableCORS`** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ CORS
- **`ContentTypeJSON`** ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `Content-Type: application/json`
- **`Chain`** ‚Äî –∫–æ–º–ø–æ–∑–∏—Ü–∏—è middleware
- **`GetUserIDFromContext`** ‚Äî –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ UUID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

#### üóÉÔ∏è **–°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö**¬†(`internal/storage/`)
- PostgreSQL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ú–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–ª–æ—è–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏ —Å –ë–î

---

## üì° API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

**–§–∞–π–ª:** `internal/server/server.go`

### üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

#### üîì¬†**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - **`POST /registration`**
```
{
  "login": "username",
  "password": "password123"
}
```
#### üîë¬†**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤)** - **`POST /auth`**
```
{
  "login": "username",
  "password": "password123"
}
```
**–û—Ç–≤–µ—Ç:**
```
{
  "type": "Bearer",
  "access_token": "eyJhbGciOiJIUzI1NiIs...",
  "refresh_token": "eyJhbGciOiJIUzI1NiIs..."
}
```

#### üîÑ¬†**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞** - **`POST /auth/refresh`**
```
{
  "refresh_token": "eyJhbGciOiJIUzI1NiIs..."
}
```

### üïπÔ∏è –ò–≥—Ä–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

#### üÜï¬†**–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∏–≥—Ä—ã** - **`POST /game/new`**
```
{
  "with_bot": true
}
```

#### üìã¬†**–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä** - **`GET /game/list`**
#### ü§ù¬†**–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ –∏–≥—Ä–µ** - **`POST /game/{game_uuid}/join`**
#### üé≤¬†**–°–¥–µ–ª–∞—Ç—å —Ö–æ–¥** - **`POST /game/{uuid}`**
```
{
  "uuid": "game_uuid",
  "field": {
    "field": [
      [1, 0, 0],
      [0, 0, 0],
      [0, 0, 0]
    ]
  }
}
```
#### üìä¬†**–°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã** - **`GET /game/{uuid}/status`** 
#### üìú¬†**–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä** - **`GET /game/history`**
#### üèÜ¬†**–õ–∏–¥–µ—Ä–±–æ—Ä–¥** - **`POST /game/leaders`**
```
{
  "count": 10
}
```

### üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
#### üë§¬†**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ** -  **`GET /auth/me`** 
#### üë§¬†**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ UUID** -  **`GET /user/{uuid}`** 

---
## üß† –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã

### –†–µ–∂–∏–º—ã –∏–≥—Ä—ã

#### 1. ü§ñ¬†**–ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞**¬†(`with_bot: true`)
- –ò–≥—Ä–æ–∫ –∏–≥—Ä–∞–µ—Ç –∑–∞¬†**X**, –±–æ—Ç –∑–∞¬†**O**
- –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º¬†**Minimax**¬†–¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö —Ö–æ–¥–æ–≤
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ö–æ–¥–∞ –∏–≥—Ä–æ–∫–∞ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–ª–∞–µ—Ç –æ—Ç–≤–µ—Ç–Ω—ã–π —Ö–æ–¥
- –ë–æ—Ç –∏–≥—Ä–∞–µ—Ç –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ

#### 2.¬†üë• **–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä**¬†(`with_bot: false`)
- –ü–µ—Ä–≤—ã–π –∏–≥—Ä–æ–∫ —Å–æ–∑–¥–∞–µ—Ç –∏–≥—Ä—É (—Å—Ç–∞—Ç—É—Å¬†`Waiting`)
- –í—Ç–æ—Ä–æ–π –∏–≥—Ä–æ–∫ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑¬†`/game/{uuid}/join`
- –ò–≥—Ä–æ–∫–∏ —Ö–æ–¥—è—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏ (X –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–µ—Ä–≤—ã–º)
- –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å —Ö–æ–¥–æ–≤

### üìà –°—Ç–∞—Ç—É—Å—ã –∏–≥—Ä—ã
|–°—Ç–∞—Ç—É—Å|–ö–æ–¥|–û–ø–∏—Å–∞–Ω–∏–µ|
|---|---|---|
|`Waiting`|0|–û–∂–∏–¥–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞|
|`Playing`|1|–ò–≥—Ä–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ|
|`WonX`|2|–ü–æ–±–µ–¥–∞ –∏–≥—Ä–æ–∫–∞ X|
|`WonO`|3|–ü–æ–±–µ–¥–∞ –∏–≥—Ä–æ–∫–∞ O|
|`Draw`|4|–ù–∏—á—å—è|

### üïµÔ∏è‚Äç‚ôÇÔ∏è –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

1. **–û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å —Ö–æ–¥–∞**¬†- —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å —Ö–æ–¥
2. **–ü—É—Å—Ç–∞—è –∫–ª–µ—Ç–∫–∞**¬†- –Ω–µ–ª—å–∑—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –∑–∞–Ω—è—Ç—É—é –∫–ª–µ—Ç–∫—É
3. **–°—Ç–∞—Ç—É—Å –∏–≥—Ä—ã**¬†- –Ω–µ–ª—å–∑—è –¥–µ–ª–∞—Ç—å —Ö–æ–¥—ã –≤ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π –∏–≥—Ä–µ
4. **–ü—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∏–≥—Ä–µ**¬†- —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏–≥—Ä—ã –º–æ–≥—É—Ç –¥–µ–ª–∞—Ç—å —Ö–æ–¥—ã

### ü§ñ –ê–ª–≥–æ—Ä–∏—Ç–º Minimax 

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º¬†**Minimax**¬†—Å –∞–ª—å—Ñ–∞-–±–µ—Ç–∞ –æ—Ç—Å–µ—á–µ–Ω–∏–µ–º –¥–ª—è –≤—ã–±–æ—Ä–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ö–æ–¥–∞:

- **–û—Ü–µ–Ω–∫–∞ –ø–æ–∑–∏—Ü–∏–π**:
    - +10 –∑–∞ –ø–æ–±–µ–¥—É O (–±–æ—Ç–∞)
    - -10 –∑–∞ –ø–æ–±–µ–¥—É X (–∏–≥—Ä–æ–∫–∞) 
    - 0 –∑–∞ –Ω–∏—á—å—é

- **–†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä**¬†–≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ö–æ–¥–æ–≤ –Ω–∞ –≥–ª—É–±–∏–Ω—É –¥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª—è
- **–í—ã–±–æ—Ä —Ö–æ–¥–∞**¬†—Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –æ—Ü–µ–Ω–∫–æ–π –¥–ª—è –±–æ—Ç–∞

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### üîë –ú–µ—Ä—ã –∑–∞—â–∏—Ç—ã:

1. **–•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π**¬†- bcrypt —Å salt
2. **JWT —Ç–æ–∫–µ–Ω—ã**¬†- –∫–æ—Ä–æ—Ç–∫–æ–∂–∏–≤—É—â–∏–µ access —Ç–æ–∫–µ–Ω—ã (15 –º–∏–Ω—É—Ç)
3. **Refresh —Ç–æ–∫–µ–Ω—ã**¬†- –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ (7 –¥–Ω–µ–π), —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î –∫–∞–∫ —Ö—ç—à–∏
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**¬†- –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
5. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞**¬†- —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∏–≥—Ä—ã –º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–µ–π
6. **CORS –∑–∞—â–∏—Ç–∞**¬†- –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### ü™™ –¢–æ–∫–µ–Ω—ã:

- **Access Token**: 15 –º–∏–Ω—É—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Refresh Token**: 7 –¥–Ω–µ–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ access —Ç–æ–∫–µ–Ω–∞
---

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–≥—Ä—ã:
```
# 1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
curl -X POST http://localhost:8081/registration \
  -H "Content-Type: application/json" \
  -d '{"login":"player1","password":"password123"}'

# 2. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤)
curl -X POST http://localhost:8081/auth \
  -H "Content-Type: application/json" \
  -d '{"login":"player1","password":"password123"}'

# 3. –°–æ–∑–¥–∞–Ω–∏–µ –∏–≥—Ä—ã —Å –±–æ—Ç–æ–º
curl -X POST http://localhost:8081/game/new \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"with_bot":true}'

# 4. –°–¥–µ–ª–∞—Ç—å —Ö–æ–¥ (X –≤ –ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
curl -X POST http://localhost:8081/game/GAME_UUID \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "uuid": "GAME_UUID",
    "field": {
      "field": [[1,0,0],[0,0,0],[0,0,0]]
    }
  }'

# 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–≥—Ä—ã
curl -X GET http://localhost:8081/game/GAME_UUID/status \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```
### –†–∞–±–æ—Ç–∞ —Å —Ç–æ–∫–µ–Ω–∞–º–∏:
```
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞
curl -X POST http://localhost:8081/auth/refresh \
  -H "Content-Type: application/json" \
  -d '{"refresh_token":"YOUR_REFRESH_TOKEN"}'

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ–±–µ
curl -X GET http://localhost:8081/auth/me \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```
---
## üöÄ Makefile
```
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
make run         # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
make build       # –°–±–æ—Ä–∫–∞ –±–∏–Ω–∞—Ä–Ω–∏–∫–∞
make test        # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make clean       # –û—á–∏—Å—Ç–∫–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

# Docker –∫–æ–º–∞–Ω–¥—ã:
make docker-up   # –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
make docker-down # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make docker-rebuild # –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞

# –£—Ç–∏–ª–∏—Ç—ã:
make fmt         # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make update_mod  # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

---